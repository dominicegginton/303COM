doctype html5
html(lang='en')
  include includes/head.pug
  head
    title 303COM - Settings
    link(rel="stylesheet", href="/camera.css")
    link(rel="stylesheet", href="/controls.css")
  body
    main
      h1 Settings
      .inline_button_container
        h3 Cameras
        .inline_button_separator
        a.button.button_green(href='/camera/new') New
      for camera in streams
        .stream_details
          h3=camera.name
          p=camera.address
          .button.button_red.stream_delete(data=camera.id, onclick='camera_remove.call(this)') X
  script.
    async function camera_remove() {
      const id = this.getAttribute('data')
      const response = await fetch('/camera/remove', { method: 'POST', body: JSON.stringify({ id: id }), headers: { 'Content-Type': 'application/json' } })
      if (response.ok && response.redirected) window.location.replace(response.url)
    }